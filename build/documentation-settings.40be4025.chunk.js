"use strict";(self.webpackChunkorderingo_backup=self.webpackChunkorderingo_backup||[]).push([[8503],{31346:(B,h,t)=>{t.r(h),t.d(h,{default:()=>P});var e=t(67294),E=t(97132),l=t(80831),u=t(68547),g=t(67838),O=t(49066),R=t(185),T=t(29728),S=t(35961),C=t(7681),x=t(72735),p=t(20707),a=t(16364),r=t(11276),d=t(74571),c=t(8934),A=t(94123),L=t(85018),M=t(80826),v=t(93742),m=t(4733),j=t(27821),D=t(25752);const o=(0,j.default)(D.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:y})=>y.colors.neutral600};
    }
  }
`;var s=t(53209);const f=s.Ry().shape({restrictedAccess:s.O7(),password:s.Z_().when("restrictedAccess",(y,w)=>y?w.required(u.translatedErrors.required):w)}),P=()=>{(0,u.useFocusWhenNavigate)();const{formatMessage:y}=(0,E.useIntl)(),{submitMutation:w,data:I,isLoading:U}=(0,m.Z)(),[Z,H]=(0,e.useState)(!1),Q=K=>{w.mutate({prefix:I==null?void 0:I.prefix,body:K})};return e.createElement(R.o,null,U?e.createElement(u.LoadingIndicatorPage,null,"Plugin settings are loading"):e.createElement(l.Formik,{initialValues:{restrictedAccess:(I==null?void 0:I.documentationAccess.restrictedAccess)||!1,password:""},onSubmit:Q,validationSchema:f},({handleSubmit:K,values:W,handleChange:z,errors:$,setFieldTouched:N,setFieldValue:F})=>e.createElement(u.Form,{noValidate:!0,onSubmit:K},e.createElement(g.T,{title:y({id:(0,v.O)("plugin.name"),defaultMessage:"Documentation"}),subtitle:y({id:(0,v.O)("pages.SettingsPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(u.CheckPermissions,{permissions:M.Z.update},e.createElement(T.z,{type:"submit",startIcon:e.createElement(L.Z,null)},y({id:(0,v.O)("pages.SettingsPage.Button.save"),defaultMessage:"Save"})))}),e.createElement(O.D,null,e.createElement(S.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},e.createElement(C.K,{spacing:4},e.createElement(x.Z,{variant:"delta",as:"h2"},y({id:"global.settings",defaultMessage:"Settings"})),e.createElement(r.r,{gap:4},e.createElement(d.P,{col:6,s:12},e.createElement(p.s,{name:"restrictedAccess",label:y({id:(0,v.O)("pages.SettingsPage.toggle.label"),defaultMessage:"Restricted Access"}),hint:y({id:(0,v.O)("pages.SettingsPage.toggle.hint"),defaultMessage:"Make the documentation endpoint private"}),checked:W.restrictedAccess,onChange:()=>{W.restrictedAccess===!0&&(F("password","",!1),N("password",!1,!1)),F("restrictedAccess",!W.restrictedAccess,!1)},onLabel:"On",offLabel:"Off"})),W.restrictedAccess&&e.createElement(d.P,{col:6,s:12},e.createElement(a.o,{label:y({id:"global.password",defaultMessage:"Password"}),name:"password",placeholder:"**********",type:Z?"text":"password",value:W.password,onChange:z,error:$.password?y({id:$.password,defaultMessage:"Invalid value"}):null,endAction:e.createElement(o,{onClick:V=>{V.stopPropagation(),H(G=>!G)},label:y(Z?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Z?e.createElement(c.default,null):e.createElement(A.default,null))})))))))))}},4733:(B,h,t)=>{t.d(h,{Z:()=>x});var e=t(23724),E=t(68547),l=t(49950),u=(p,a,r)=>new Promise((d,c)=>{var A=v=>{try{M(r.next(v))}catch(m){c(m)}},L=v=>{try{M(r.throw(v))}catch(m){c(m)}},M=v=>v.done?d(v.value):Promise.resolve(v.value).then(A,L);M((r=r.apply(p,a)).next())});const g=({prefix:p,version:a})=>(0,E.request)(`${p}/deleteDoc/${a}`,{method:"DELETE"}),O=p=>u(void 0,null,function*(){try{return yield(0,E.request)(`/${l.Z}/getInfos`,{method:"GET"})}catch(a){return p({type:"warning",message:{id:"notification.error"}}),null}}),R=({prefix:p,version:a})=>(0,E.request)(`${p}/regenerateDoc`,{method:"POST",body:{version:a}}),T=({prefix:p,body:a})=>(0,E.request)(`${p}/updateSettings`,{method:"PUT",body:a});var S=t(798);const x=()=>{const p=(0,e.useQueryClient)(),a=(0,E.useNotification)(),{isLoading:r,data:d}=(0,e.useQuery)("get-documentation",()=>O(a)),c=m=>{a({type:"warning",message:m.response.payload.message})},A=(m,j)=>{p.invalidateQueries("get-documentation"),a({type:m,message:{id:(0,S.Z)(j)}})},L=(0,e.useMutation)(g,{onSuccess:()=>A("info","notification.delete.success"),onError:m=>c(m)}),M=(0,e.useMutation)(T,{onSuccess:()=>A("success","notification.update.success"),onError:c}),v=(0,e.useMutation)(R,{onSuccess:()=>A("info","notification.generate.success"),onError:m=>c(m)});return{data:d,isLoading:r,deleteMutation:L,submitMutation:M,regenerateDocMutation:v}}},798:(B,h,t)=>{t.d(h,{Z:()=>l});var e=t(49950);const l=u=>`${e.Z}.${u}`},93742:(B,h,t)=>{t.d(h,{O:()=>e.Z});var e=t(798)},49066:(B,h,t)=>{t.d(h,{D:()=>u});var e=t(67294),E=t(45697),l=t(35961);const u=({children:g})=>e.createElement(l.x,{paddingLeft:10,paddingRight:10},g);u.propTypes={children:E.node.isRequired}},67838:(B,h,t)=>{t.d(h,{T:()=>m});var e=t(67294),E=t(27821),l=t(45697),u=t(72735),g=t(35961),O=t(46273);const R=n=>{const o=(0,e.useRef)(null),[s,i]=(0,e.useState)(!0),f=([b])=>{i(b.isIntersecting)};return(0,e.useEffect)(()=>{const b=o.current,P=new IntersectionObserver(f,n);return b&&P.observe(o.current),()=>{b&&P.disconnect()}},[o,n]),[o,s]};var T=t(98402);const S=(n,o)=>{const s=(0,T.useCallbackRef)(o);(0,e.useLayoutEffect)(()=>{const i=new ResizeObserver(s);return Array.isArray(n)?n.forEach(f=>{f.current&&i.observe(f.current)}):n.current&&i.observe(n.current),()=>{i.disconnect()}},[n,s])};var C=Object.defineProperty,x=Object.defineProperties,p=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(n,o,s)=>o in n?C(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,A=(n,o)=>{for(var s in o||(o={}))r.call(o,s)&&c(n,s,o[s]);if(a)for(var s of a(o))d.call(o,s)&&c(n,s,o[s]);return n},L=(n,o)=>x(n,p(o)),M=(n,o)=>{var s={};for(var i in n)r.call(n,i)&&o.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&a)for(var i of a(n))o.indexOf(i)<0&&d.call(n,i)&&(s[i]=n[i]);return s};const v=()=>{const n=(0,e.useRef)(null),[o,s]=(0,e.useState)(null),[i,f]=R({root:null,rootMargin:"0px",threshold:0});return S(i,()=>{i.current&&s(i.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{n.current&&s(n.current.getBoundingClientRect())},[n]),{containerRef:i,isVisible:f,baseHeaderLayoutRef:n,headerSize:o}},m=n=>{const{containerRef:o,isVisible:s,baseHeaderLayoutRef:i,headerSize:f}=v();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:f==null?void 0:f.height},ref:o},s&&e.createElement(D,A({ref:i},n))),!s&&e.createElement(D,L(A({},n),{sticky:!0,width:f==null?void 0:f.width})))};m.displayName="HeaderLayout";const j=(0,E.default)(g.x)`
  position: fixed;
  top: 0;
  right: 0;
  width: ${n=>n.width}px;
  z-index: 4;
  box-shadow: ${({theme:n})=>n.shadows.tableShadow};
`,D=e.forwardRef((n,o)=>{var s=n,{navigationAction:i,primaryAction:f,secondaryAction:b,subtitle:P,title:y,sticky:w,width:I}=s,U=M(s,["navigationAction","primaryAction","secondaryAction","subtitle","title","sticky","width"]);const Z=typeof P=="string";return w?e.createElement(j,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,background:"neutral0",width:I,"data-strapi-header-sticky":!0},e.createElement(O.k,{justifyContent:"space-between"},e.createElement(O.k,null,i&&e.createElement(g.x,{paddingRight:3},i),e.createElement(g.x,null,e.createElement(u.Z,A({variant:"beta",as:"h1"},U),y),Z?e.createElement(u.Z,{variant:"pi",textColor:"neutral600"},P):P),b?e.createElement(g.x,{paddingLeft:4},b):null),e.createElement(O.k,null,f?e.createElement(g.x,{paddingLeft:2},f):void 0))):e.createElement(g.x,{ref:o,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:i?6:8,background:"neutral100","data-strapi-header":!0},i?e.createElement(g.x,{paddingBottom:2},i):null,e.createElement(O.k,{justifyContent:"space-between"},e.createElement(O.k,null,e.createElement(u.Z,A({as:"h1",variant:"alpha"},U),y),b?e.createElement(g.x,{paddingLeft:4},b):null),f),Z?e.createElement(u.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},P):P)});D.displayName="BaseHeaderLayout",D.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},D.propTypes={navigationAction:l.node,primaryAction:l.node,secondaryAction:l.node,sticky:l.bool,subtitle:l.oneOfType([l.string,l.node]),title:l.string.isRequired,width:l.number},m.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},m.propTypes={navigationAction:l.node,primaryAction:l.node,secondaryAction:l.node,subtitle:l.oneOfType([l.string,l.node]),title:l.string.isRequired}},185:(B,h,t)=>{t.d(h,{o:()=>p});var e=t(67294),E=t(45697),l=t(27821),u=Object.defineProperty,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,T=(a,r,d)=>r in a?u(a,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[r]=d,S=(a,r)=>{for(var d in r||(r={}))O.call(r,d)&&T(a,d,r[d]);if(g)for(var d of g(r))R.call(r,d)&&T(a,d,r[d]);return a},C=(a,r)=>{var d={};for(var c in a)O.call(a,c)&&r.indexOf(c)<0&&(d[c]=a[c]);if(a!=null&&g)for(var c of g(a))r.indexOf(c)<0&&R.call(a,c)&&(d[c]=a[c]);return d};const x=l.default.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,p=a=>{var r=a,{labelledBy:d}=r,c=C(r,["labelledBy"]);const A=d||"main-content-title";return e.createElement(x,S({"aria-labelledby":A,id:"main-content",tabIndex:-1},c))};p.defaultProps={labelledBy:void 0},p.propTypes={labelledBy:E.string}}}]);
